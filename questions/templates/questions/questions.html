{% extends 'base.html' %}
{% load static %}


{% block page_header %}
<div class="container header-container">
    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}


{% block content %}
<div class="overlay"></div>

<!-- Back to top btn -->
<div>
    <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
</div>



<div class="container-fluid">
    <div class="row">
        <div class="col text-center mt-3">
            <h2 class="logo-font mt-3">FAQ's</h2>
            <hr class="w-50 mb-2">

        </div>
    </div>

</div>
<div class="container">
    <div class="row">
        <div class="col mt-4">
            {% for question in questions %}
            <div class="accordion" id="question-{{question.id}}">
                <div class="card">
                    <div class="card-header p-0" id="headingOne-{{question.id}}">
                        <h2 class="mb-0">
                            <button class="btn btn-block text-left p-3" type="button" data-toggle="collapse"
                                data-target="#collapseOne-{{question.id}}" aria-expanded="false"
                                aria-controls="collapseOne">
                                {{question.question}}
                                {% if request.user.is_superuser %}
                                <small class="ml-4 text-uppercase">
                                    <a href="{% url 'edit_faq' question.id %}" class="text-success">edit</a>
                                    <a href="#" class="text-danger">delete</a>
                                </small>

                                {% endif %}
                            </button>
                        </h2>
                    </div>
                    <div id="collapseOne-{{question.id}}" class="collapse" aria-labelledby="headingOne-{{question.id}}"
                        data-parent="#question-{{question.id}}">
                        <div class="card-body">
                            {{question.answer}}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
</div>
</div>

{% endblock %}

{% block postloadjs %}
{{ block.super }}

<script>
    //Get the button:
    mybutton = document.getElementById("myBtn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
        scrollFunction()
    };

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }
</script>
{% endblock %}